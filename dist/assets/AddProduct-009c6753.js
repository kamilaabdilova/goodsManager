import{a as U,r as i,s as D,j as S,o as V,b as p,c as T,d as k,f as m,e as o,g as C,x as f,y as b,C as l,F}from"./index-c7ae716c.js";import{u as O,a as N}from"./AddProductService-7079fb8d.js";const P={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},L={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},B=o("div",{class:"text-center mb-5"},[o("div",{class:"text-900 text-3xl font-medium mb-3"},"Add new product!")],-1),E=o("p",null,"Drag and drop files to here to upload.",-1),R=o("label",{for:"price",class:"block text-900 text-xl font-medium mb-2"},"Price",-1),A=o("label",{for:"description",class:"block text-900 text-xl font-medium mb-2"},"Description",-1),K=o("label",{for:"status",class:"block text-900 text-xl font-medium mb-2"},"Category",-1),j=o("label",{for:"status",class:"block text-900 text-xl font-medium mb-2"},"Status",-1),W={__name:"AddProduct",setup(M){let e=U({imageId:"",price:"",description:"",categoryId:null,statusId:null});const y=i([{name:"Dress",code:"1"},{name:"T-Short",code:"2"},{name:"Jeans",code:"3"}]),x=D(),n=S();i();const g=i([{name:"IN STOCK",code:"1"},{name:"LOW STOCK",code:"2"},{name:"OUT OF STOCK",code:"3"}]);async function _(c){e.imageId=c;try{const t=await N(e,e.statusId.code,e.categoryId.code);e.imageId="",e.price="",e.description="",e.categoryId=null,e.statusId=null,v.value.push(t.data),n.add({severity:"success",summary:"Success",detail:"Product added successfully!",life:2e3})}catch(t){n.add({severity:"error",summary:"Error",detail:t,life:2e3})}}const w=async c=>{const t=c.files[0],d=new FileReader;let u=await fetch(t.objectURL).then(s=>s.blob());d.readAsDataURL(u),d.onloadend=async function(){const s=t.name,a=s.substring(s.lastIndexOf(".")+1),I=d.result,h={imageName:s,imageExtension:a,imageData:I};try{const r=await O(h);await _(r.data),n.add({severity:"success",summary:"Success",detail:r,life:2e3}),e.image=r,await x.push("/uikit/list")}catch(r){n.add({severity:"error",summary:"Error",detail:r,life:2e3})}}},v=i([]);return V(()=>{}),(c,t)=>{const d=p("Toast"),u=p("FileUpload"),s=p("Dropdown");return T(),k(F,null,[m(d),o("div",P,[o("div",L,[B,o("div",null,[m(u,{name:"demo[]",customUpload:"",onUploader:w,multiple:!1,accept:"image/*",maxFileSize:1e6,"md:w-30rem":"","mb-5":""},{empty:C(()=>[E]),_:1}),R,f(o("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).price=a),type:"number",placeholder:"Price",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"}},null,512),[[b,l(e).price]]),A,f(o("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l(e).description=a),type:"text",placeholder:"Description",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"}},null,512),[[b,l(e).description]]),K,m(s,{modelValue:l(e).categoryId,"onUpdate:modelValue":t[2]||(t[2]=a=>l(e).categoryId=a),options:y.value,optionLabel:"name",placeholder:"Category",class:"w-full md:w-30rem mb-5"},null,8,["modelValue","options"]),j,m(s,{modelValue:l(e).statusId,"onUpdate:modelValue":t[3]||(t[3]=a=>l(e).statusId=a),options:g.value,optionLabel:"name",placeholder:"Select status",class:"w-full md:w-30rem mb-5"},null,8,["modelValue","options"])])])])],64)}}};export{W as default};
