import{g as D}from"./AddProductService-7079fb8d.js";import{_ as C,i as O,j as F,r as l,o as I,b as c,c as N,d as T,e as t,f as i,g as v,F as j,t as d,p as $,k as E}from"./index-c7ae716c.js";import H from"./Basket-d38a2dfd.js";const y=r=>($("data-v-e8ab8652"),r=r(),E(),r),M={class:"grid"},U={class:"col-12"},q={class:"card"},A=y(()=>t("h5",null,"DataView",-1)),K={class:"grid grid-nogutter"},z={class:"col-6 text-left"},G={class:"col-6 text-right"},J={class:"col-12 md:col-4"},Q={class:"card m-3 border-1 surface-border"},R={class:"flex align-items-center justify-content-between"},W={class:"flex align-items-center"},X=y(()=>t("i",{class:"pi pi-tag mr-2"},null,-1)),Y={class:"font-semibold"},Z={class:"product-badge"},P={class:"text-center"},tt=["src","alt"],et={class:"text-2xl font-bold"},at={class:"mb-3"},st={class:"flex align-items-center justify-content-between"},ot={class:"text-2xl font-semibold"},nt={__name:"List",setup(r){const u=O();async function f(){try{await(async()=>{D().then(e=>{let s=[];for(let o=0;o<e.length;o++){let n=e[o];s.push({category:n.category,description:n.description,id:n.id,image:n.image,inventoryStatus:n.status,price:n.price})}h.value=s})})()}catch(e){console.log(e)}}const b=F(),h=l(null),m=l("grid"),_=l(null),g=l(null),p=l(null),w=l([{label:"Price High to Low",value:"!price"},{label:"Price Low to High",value:"price"}]);I(()=>{f()});const x=async e=>{const s={userName:u.state.auth.user.userName,category:e.category,description:e.description,id:e.id,image:{id:e.image.id,name:e.image.name,type:e.image.type,image:e.image.image},inventoryStatus:{id:e.inventoryStatus.id,status:e.inventoryStatus.status},price:e.price};let o=[];u.state.basket.basket.forEach(n=>{o.push(n)}),o.push(s),b.add({severity:"success",summary:"Product successfully added to the basket!",life:3e3}),await u.dispatch("basket/addToMyBasket",o),await console.log(u.state.basket.basket)},k=e=>{const s=e.value.value,o=e.value;s.indexOf("!")===0?(g.value=-1,p.value=s.substring(1,s.length),_.value=o):(g.value=1,p.value=s,_.value=o)};return(e,s)=>{const o=c("Dropdown"),n=c("DataViewLayoutOptions"),V=c("Toast"),S=c("router-link"),L=c("Button"),B=c("DataView");return N(),T(j,null,[t("div",M,[t("div",U,[t("div",q,[A,i(B,{value:h.value,layout:m.value,paginator:!0,rows:9,sortOrder:g.value,sortField:p.value},{header:v(()=>[t("div",K,[t("div",z,[i(o,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=a=>_.value=a),options:w.value,optionLabel:"label",placeholder:"Sort By Price",onChange:s[1]||(s[1]=a=>k(a))},null,8,["modelValue","options"])]),t("div",G,[i(n,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=a=>m.value=a)},null,8,["modelValue"])])])]),grid:v(a=>[t("div",J,[t("div",null,[t("div",Q,[i(V),i(S,{to:{name:"productItem",query:{id:a.data.id}}},{default:v(()=>[t("div",R,[t("div",W,[X,t("span",Y,d(a.data.category===null?" ":a.data.category.nameCategory),1)]),t("span",Z,d(a.data.inventoryStatus===null?" ":a.data.inventoryStatus.status),1)]),t("div",P,[t("img",{style:{width:"140px",height:"100px"},src:"data:image/png;base64,"+a.data.image.image,alt:a.data.image.name},null,8,tt),t("div",et,d(a.data.name),1),t("div",at,d(a.data.description),1)])]),_:2},1032,["to"]),t("div",st,[t("span",ot,"$"+d(a.data.price),1),i(L,{icon:"pi pi-shopping-cart",onClick:it=>x(a.data)},null,8,["onClick"])])])])])]),_:1},8,["value","layout","sortOrder","sortField"])])])]),i(H)],64)}}},rt=C(nt,[["__scopeId","data-v-e8ab8652"]]);export{rt as default};
